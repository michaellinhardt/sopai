# Workflow Context

**Initial Request:** Add file writing rules to CLAUDE.md - agt folder as default, dual-write with .copy for explicit paths

**Purpose:** Ensure files are always tracked in agt folder, with copies when written elsewhere.

**Rules to Implement:**
1. No path specified → write to `./agts/wkf.xxx/`
2. Path specified → write to path AND copy to `./agts/wkf.xxx/` with `.copy.md` suffix

**Method:**
1. Analyze current CLAUDE.md for gaps
2. Identify enforcement mechanisms
3. AI Engineer review and edit
4. Apply approved changes

**Acceptance Criteria:**
- Clear default behavior (no path = agt folder)
- Dual-write rule for explicit paths
- Naming convention for copies (`.copy.md`)

---

## Execution Report

**Status:** COMPLETED

**Changes Applied to `~/.claude/CLAUDE.md`:**

1. **ID Rules expanded (lines 53-57):**
   - Start at `00` for each workflow
   - Increment sequentially
   - Same step = same ID
   - Check existing files before assigning

2. **File Writing Rules added (lines 59-73):**
   - No path = MUST write to wkf folder
   - Path specified = write there + copy to wkf with `.copy` type
   - Exception for paths already in wkf folder

3. **File Locations updated (line 78):**
   - Project files: specified path (with copy to wkf folder)

**AGT Files Created:**
- `01.analyse.md` - Gap analysis
- `02.ai-engineer.review.context.md` - AI Engineer review
- `03.CLAUDE.proposed.md` - Proposed revision (used as reference)
